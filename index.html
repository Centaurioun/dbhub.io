<!DOCTYPE html>
<html ng-app="DBHub-front" ng-controller="databaseView">
<head>
    <meta charset="UTF-8">
    <title>DBHub.io - {{ db.Username }} / {{ db.Database }}</title>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.min.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.2.0.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .nav, .pagination, .carousel, .panel-title a { cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-md-7">
            <h2 id="viewuser" ng-bind="db.Username + ' / ' + db.Database"></h2>
        </div>
        <div class="col-md-5">
            <div class="row">
                <div class="col-md-4">
                    <label id="viewwatch" ng-bind="'Watchers: ' + db.Watchers"></label>
                </div>
                <div class="col-md-4">
                    <label id="viewstars" ng-bind="'Stars: ' + db.Stars"></label>
                </div>
                <div class="col-md-4">
                    <label id="viewforks" ng-bind="'Forks: ' + db.Forks"></label>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-9">
            <div class="row">
                <div class="col-md-2">
                    <a href="">Data</a>
                </div>
                <div class="col-md-2">
                    <a href="">Visual</a>
                </div>
                <div class="col-md-2">
                    <label id="viewdiscuss" ng-bind="'Discussions: ' + db.Discussions"></label>
                </div>
                <div class="col-md-2">
                    <label id="viewprs" ng-bind="'Pull Requests: ' + db.PRs"></label>
                </div>
                <div class="col-md-2">
                    <label>Info</label>
                </div>
                <div class="col-md-2">
                    &nbsp;
                </div>
            </div>
        </div>
        <div class="col-md-3">
            &nbsp;
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <label id="viewdesc" ng-bind="db.Description"></label>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <label id="viewupdates" ng-bind="'Updates: ' + db.Updates"></label>
        </div>
        <div class="col-md-3">
            <label id="viewbranches" ng-bind="'Branches: ' + db.Branches"></label>
        </div>
        <div class="col-md-3">
            <label id="viewreleases" ng-bind="'Releases: ' + db.Releases"></label>
        </div>
        <div class="col-md-3">
            <label id="viewcontribs" ng-bind="'Contributors: ' + db.Contributors"></label>
        </div>
    </div>
    <div class="row">
        <div class="dropdown col-md-5">
            <div class="btn-group" uib-dropdown keyboard-nav="true">
                <button id="viewtable" type="button" class="btn">{{ 'Table: ' + db.Tablename }}</button>

                <button type="button" uib-dropdown-toggle class="btn btn-default">
                    <span class="caret"></span>
                    <span class="sr-only">Split button!</span>
                </button>
                <ul uib-dropdown-menu class="dropdown-menu" role="menu">
                    <li ng-repeat="row in db.Tables" role="menuitem">
                        <a href="#{{ row }}">{{ row }}</a>
                    </li>
                </ul>
                <button class="btn btn-default">New Pull Request</button>
            </div>
        </div>
        <div class="col-md-1">
            &nbsp;
        </div>
        <div class="col-md-2">
            <button class="btn btn-default">Create new database</button>
        </div>
        <div class="col-md-2">
            <button class="btn btn-default">Upload database</button>
        </div>
        <div class="col-md-2">
            <button class="btn btn-default">Download</button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table class="table table-bordered table-striped table-responsive">
                <tr>
                    <th ng-repeat="header in db.TableHeaders">{{ header }}</th>
                </tr>
                <tr ng-repeat="row in db.Records">
                    <td>{{ row.Name }}</td>
                    <td>{{ row.Country }}</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <label id="viewreadme" ng-bind="db.Readme"></label>
        </div>
    </div>
</div>

<script>
    var app = angular.module('DBHub-front', ['ui.bootstrap']);
    app.controller('databaseView', function($scope, $http) {
        $http.get("http://localhost:9080/foo/devcrapdb1.sqlite")
                .then(function (response) {$scope.db = response.data;});
    });
</script>
</body>
</html>